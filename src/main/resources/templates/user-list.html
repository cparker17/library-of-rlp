<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>Customer Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div th:replace="fragments :: navigation"/>
<div class="container"><br><br>
    <center><h2>User List</h2></center>
        <br>
        <table class="table table-striped border border-dark">
            <thead>
            <tr>
                <th>Id</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Street Address</th>
                <th>City</th>
                <th>State</th>
                <th>Zip Code</th>
                <th>Email</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <div class="container">
                <tr class="border border-dark text-center" th:each="user : ${userList}">
                    <td th:text="${user.id}">Id</td>
                    <td th:text="${user.firstName}">First Name</td>
                    <td th:text="${user.lastName}">Last Name</td>
                    <td th:text="${user.address.streetAddress}">Street Address</td>
                    <td th:text="${user.address.city}">City</td>
                    <td th:text="${user.address.state}">State</td>
                    <td th:text="${user.address.zip}">Zip Code</td>
                    <td th:text="${user.email}">Email</td>
                    <td class="text-center">
                        <a href="#" class="btn btn-light text-dark border-dark btn-sm"
                           style="margin: 2px"
                           th:href="@{'/update/' + ${user.id}}">Update</a>
                        <a href="#" class="btn btn-light text-dark border-dark btn-sm"
                           style="margin: 2px"
                           th:href="@{'/delete/' + ${user.id}}">Delete
                        </a>
                        <a href="#" th:unless="${user.books.isEmpty()}"
                           class="btn btn-sm btn-light text-dark border-dark"
                           style="margin: 2px"
                           th:href="@{'/user-books/' + ${user.id}}">View Books
                        </a>
                        <a href="#" th:unless="${user.rentalHistoryList.isEmpty()}"
                           class="btn btn-sm btn-light text-dark border-dark"
                           style="margin: 2px"
                           th:href="@{'/user/rental-history/' + ${user.id}}">History
                        </a>
                </tr>
            </div>
            </tbody>
        </table>
</div>
</body>
</html>